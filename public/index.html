<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Space Defense üõ°Ô∏è</title>

    <!-- üîç favicon -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png" />

    <!-- üé® CSS –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="assets/styles/styles.css" />

    <!-- HTMX –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è partials -->
    <script
      src="https://unpkg.com/htmx.org@1.9.10"
      integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>

    <!-- –ü–∞–Ω–µ–ª—å HUD -->
    <section
      id="hud-container"
      data-hx-get="partials/ui-hud.partial.html"
      data-hx-trigger="load"
      data-hx-swap="outerHTML"
    ></section>

    <!-- –ú–∞–≥–∞–∑–∏–Ω -->
    <section
      id="store-container"
      data-hx-get="partials/ui-store.partial.html"
      data-hx-trigger="load"
      data-hx-swap="outerHTML"
    ></section>

    <!-- –ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è -->
    <section
      id="profile-container"
      data-hx-get="partials/ui-profile.partial.html"
      data-hx-trigger="load"
      data-hx-swap="outerHTML"
    ></section>

    <!-- –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≥—Ä–∏ -->
    <script type="module" src="game.js"></script>
    <script type="module" src="main.js"></script>

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Socket.IO -->
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <!-- <script type="module" src="socket-client.js"></script> -->

    <!-- ‚úÖ Socket.io –ª–∏—à–µ –ª–æ–∫–∞–ª—å–Ω–æ -->
    <script>
      if (location.hostname === "localhost") {
        const script = document.createElement("script");
        script.src = "/socket.io/socket.io.js"; // –¢—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
        script.onload = () => {
          import("./socket-client.js").then((mod) => mod.initSocket());
        };
        document.head.appendChild(script);
      }
    </script>
  </body>
</html>
